"use strict";var APP=angular.module("app",["ui.router","ngScrollbars","ngCookies","validation","moment-picker"]);APP.config(function(t){t.defaults={autoHideScrollbar:!1,setHeight:100,scrollInertia:500,axis:"yx",theme:"minimal-dark",advanced:{updateOnContentResize:!0},scrollButtons:{scrollAmount:"auto",enable:!1}}}),APP.factory("Reddit",function(t,e){var n=function(){this.items=[],this.busy=!1,this.after="a"};return n.prototype.nextPage=function(){if(!this.busy){this.busy=!0;var n="https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su";n=e.trustAsResourceUrl(n),t.jsonp(n,{params:{wd:this.after},jsonpCallbackParam:"cb"}).then(function(t){console.log(t),this.items.push(t.data.s),this.after=this.after+"a",this.busy=!1}.bind(this)).catch(function(t){console.log(t)})}},n}),APP.controller("mainCtrl",["$scope","$timeout","$myHttp","cache","$log","Reddit",function(t,e,n,i,o,r){e(function(){o.info("info")},0),t.name="jsdf",t.scrollbarConfig={setHeight:200},t.items=["张三"],t.showBgPanel=!1,t.mydate="2017",t.reddit=new r,t.add=function(){t.aaa="2342423",n.getDataByGet("data/data.json").then(function(o){return i.put("a","aa"),e(function(){t.$digest(),t.$apply(function(){t.data+=o})},0),n.getDataByGet("data/test.json")}).then(function(e){console.log(e),t.items.push(e)}).catch(function(t){console.log(t)}).finally(function(){console.log("请求结束")})}}]),APP.service("cache",["$cookies",function(t){this.put=function(e,n){t.put(e,n)},this.get=function(e){return t.get(e)},this.remove=function(e){t.remove(e)}}]),APP.service("$myHttp",["$rootScope","$filter","$http","$timeout","$q",function(t,e,n,i,o){this.getData=function(t,e,i){$.isFunction(i)&&i();var r=o.defer();return n.post(t,{params:e}).then(function(t){r.resolve(t)}).catch(function(t){r.reject(t)}),r.promise},this.getDataByGet=function(t,e,i){$.isFunction(i)&&i();var r=o.defer();return n.get(t,{params:e}).then(function(t){r.resolve(t)}).catch(function(t){r.reject(t)}),r.promise}}]),APP.service("uuid",["$rootScope","$filter","$http","$timeout","$q",function(t,e,n,i,o){return{getUUID:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}}}]),$.extend({getRandom:function(){var t=Math.random()+"";return t=t.split(".")[1]}}),APP.config(["momentPickerProvider",function(t){t.options({locale:"en",format:"L LTS",minView:"decade",maxView:"minute",startView:"year",autoclose:!0,today:!1,keyboard:!1,leftArrow:"&larr;",rightArrow:"&rarr;",yearsFormat:"YYYY",monthsFormat:"MMM",daysFormat:"D",hoursFormat:"HH:[00]",minutesFormat:moment.localeData().longDateFormat("LT").replace(/[aA]/,""),secondsFormat:"ss",minutesStep:5,secondsStep:1})}]),APP.config(["$qProvider",function(t){t.errorOnUnhandledRejections(!1)}]),APP.config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("main",{url:"/main",templateUrl:"view/main/main.html",controller:"mainCtrl"}).state("main.page1",{url:"/page1",templateUrl:"view/new_file.html"}).state("main.page2",{url:"/page1",templateUrl:"view/new_file2.html"}),e.otherwise("main")}]),APP.config(["$validationProvider",function(t){var e={phone:/^1[\d]{10}/,password:function(t){return t>5}},n={phone:{success:"",error:"必须是11位手机号"},password:{success:"",error:" 长度至少6位"}};t.setExpression(e).setDefaultMsg(n)}]),APP.directive("appColor",function(){return{scope:{},restrict:"A",link:function(t,e,n,i){function o(t,i){var o,r=n.defaultColor?n.defaultColor+" !important":n.defaultColor,l=n.positiveColor?n.positiveColor+" !important":n.positiveColor,a=n.negativeColor?n.negativeColor+" !important":n.negativeColor,c=n.zeroColor?n.zeroColor+" !important":n.zeroColor,s=n.target;o=void 0!=s?s:$(e)[0].innerHTML.replace(/,/g,""),isNaN(parseFloat(o))?e.css("cssText","color:"+r):(0==o&&(c?e.css("cssText","color:"+c):l?e.css("cssText","color:"+l):e.css("cssText","color:"+r)),o>0&&(l?e.css("cssText","color:"+l):e.css("cssText","color:"+r)),o<0&&(a?e.css("cssText","color:"+a):e.css("cssText","color:"+r)))}void 0!=n.target?t.$watch(function(){return n.target},function(t,e){o(t,e)}):t.$watch(function(){return e[0].innerHTML},function(t,e){o(t,e)})}}}),APP.directive("appLeftRightLayout",function(t,e){return{templateUrl:"script/directive/leftRightLayout/leftRightLayout.html?t="+e.getUUID(),scope:{width:"@",height:"@",clazz:"@class",leftWidth:"@",leftStyle:"@",rightStyle:"@",centerStyle:"@",centerWidth:"@",centerIconStyle:"@"},replace:!0,transclude:{left:"?left",right:"?right"},restrict:"E",controller:function(t){},link:function(n,i,o,r){n.id="lrc-containerd-"+e.getUUID(),n.curIsShowLeft=!0,n.leftWidthBak=n.leftWidth;var l="glyphicon glyphicon-triangle-left";n.centerIcon=l,n.height||(n.height="100%"),n.width||(n.width="100%"),n.class||(n.class=""),n.leftWidth?(console.log(parseFloat(n.leftWidth)+10+"px"),n.leftWidth=parseFloat(n.leftWidth)+10+"px"):n.leftWidth="50%",angular.isDefined(n.leftStyle)||(n.leftStyle=""),angular.isDefined(n.rightStyle)||(n.rightStyle=""),angular.isDefined(n.centerStyle)||(n.centerStyle=""),angular.isDefined(n.centerWidth)||(n.centerWidth="13.6px"),angular.isDefined(n.centerIconStyle)||(n.centerIconStyle=""),i.find("left,right").addClass("h-100 w-100 d-ib"),$(".lrl-centerBtn").on("click",function(){n.curIsShowLeft?(n.curIsShowLeft=!1,$("#a"+n.id).animate({width:0}),$("#b"+n.id).animate({"margin-left":0}),n.leftWidth=0,t(function(){n.$apply(function(){n.centerIcon="glyphicon glyphicon-triangle-right"})},0)):(n.curIsShowLeft=!0,$("#a"+n.id).animate({width:n.leftWidthBak}),$("#b"+n.id).animate({"margin-left":n.leftWidthBak}),n.leftWidth=n.leftWidthBak,t(function(){n.$apply(function(){n.centerIcon=l})},0))})}}}),APP.directive("appPagePanel",function(t,e){return{templateUrl:"script/directive/pagePanel/pagePanel.html?t="+e.getUUID(),scope:{width:"@",height:"@",headStyle:"@",textAlign:"@",borderBottom:"@border",leftBtnIcon:"@",clazz:"@class"},transclude:!0,restrict:"E",controller:function(t){},link:function(e,n,i,o){(!e.textAlign||"left"!=e.textAlign&&"center"!=e.textAlign&&"right"!=e.textAlign)&&(e.textAlign="center"),e.height||(e.height="100%"),e.width||(e.width="100%"),e.headStyle||(e.headStyle="1"),e.borderBottom||(e.borderBottom="1px solid #D9D9D9"),e.leftBtnIcon||(e.leftBtnIcon="glyphicon glyphicon-menu-hamburger"),e.clazz||(e.clazz=""),e.showPanel=function(){n.find("#visiblePanel").removeClass("d-n").addClass("d-b")},e.hidePanel=function(){n.find("#visiblePanel").removeClass("d-b").addClass("d-n")},e.change=function(){t(function(){console.log(1111),e.$apply(function(){e.panel2=""})},2e3)},console.log(e.borderBottom)}}});var mod;(mod=angular.module("infinite-scroll",[])).directive("infiniteScroll",["$rootScope","$window","$timeout",function(t,e,n){return{link:function(i,o,r){var l,a,c,s;return e=angular.element(e),c=0,null!=r.infiniteScrollDistance&&i.$watch(r.infiniteScrollDistance,function(t){return c=parseInt(t,10)}),s=!0,l=!1,null!=r.infiniteScrollDisabled&&i.$watch(r.infiniteScrollDisabled,function(t){if((s=!t)&&l)return l=!1,a()}),a=function(){var n,a,f,u;return u=e.height()+e.scrollTop(),n=o.offset().top+o.height(),a=n-u,f=a<=e.height()*c,f&&s?t.$$phase?i.$eval(r.infiniteScroll):i.$apply(r.infiniteScroll):f?l=!0:void 0},e.on("scroll",a),i.$on("$destroy",function(){return e.off("scroll",a)}),n(function(){return r.infiniteScrollImmediateCheck?i.$eval(r.infiniteScrollImmediateCheck)?a():void 0:a()},0)}}}]),APP.directive("appRightLeftLayout",function(t,e){return{templateUrl:"script/directive/leftRightLayout/rightLeftLayout.html ?t="+e.getUUID(),scope:{width:"@",height:"@",clazz:"@class",leftWidth:"@",leftStyle:"@",rightStyle:"@",centerStyle:"@",centerWidth:"@",centerIconStyle:"@"},replace:!0,transclude:{left:"?left",right:"?right"},restrict:"E",controller:function(t){},link:function(n,i,o,r){n.id="lrc-containerd-"+e.getUUID(),n.curIsShowLeft=!0,n.leftWidthBak=n.leftWidth;var l="glyphicon glyphicon-triangle-left";n.centerIcon=l,n.height||(n.height="100%"),n.width||(n.width="100%"),n.class||(n.class=""),n.leftWidth?(console.log(parseFloat(n.leftWidth)+10+"px"),n.leftWidth=parseFloat(n.leftWidth)+10+"px"):n.leftWidth="50%",angular.isDefined(n.leftStyle)||(n.leftStyle=""),angular.isDefined(n.rightStyle)||(n.rightStyle=""),angular.isDefined(n.centerStyle)||(n.centerStyle=""),angular.isDefined(n.centerWidth)||(n.centerWidth="13.6px"),angular.isDefined(n.centerIconStyle)||(n.centerIconStyle=""),i.find("left,right").addClass("h-100 w-100 d-ib"),$(".lrl-centerBtn").on("click",function(){n.curIsShowLeft?(n.curIsShowLeft=!1,$("#a"+n.id).animate({width:0}),$("#b"+n.id).animate({"margin-left":0}),n.leftWidth=0,t(function(){n.$apply(function(){n.centerIcon="glyphicon glyphicon-triangle-right"})},0)):(n.curIsShowLeft=!0,$("#a"+n.id).animate({width:n.leftWidthBak}),$("#b"+n.id).animate({"margin-left":n.leftWidthBak}),n.leftWidth=n.leftWidthBak,t(function(){n.$apply(function(){n.centerIcon=l})},0))})}}}),APP.directive("appYearSelector",function(t){return{templateUrl:"script/directive/yearselector/yearselector.html?t="+t.getUUID(),scope:{model:"=ngModel"},replace:!0,restrict:"E",controller:function(t){},link:function(t,e,n,i){console.log(2),t.change=function(){t.model="aaa"}}}});